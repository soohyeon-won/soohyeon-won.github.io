import React, { useEffect, useId, useRef } from "react";

// React18
export const UseIdComp = () => {
    const id = useId();
    const ref = useRef<HTMLInputElement | null>(null);

    useEffect(() => {
        const element = ref.current;
        console.log(element);
    });

    console.log(id);

    return (
        <div>
            {/* 
        htmlForμ„ μ‚¬μ©ν•΄μ£Όλ©΄ μ›Ή μ ‘κ·Όμ„±λ„ λ†’μ•„μ§. μ¤ν¬λ¦° λ¦¬λ” κΈ°λ¥μ„ μ‚¬μ© κ°€λ¥
        ν•μ§€λ§ κ³ μ ν•μ§€ μ•μ€ IDλ¥Ό μ‚¬μ©ν•κ² λλ©΄ λ¬Έμ κ°€ λ°μƒλ¨.
        κ°κ°μ μ»΄ν¬λ„νΈμ— κ³ μ ν• IDλ¥Ό μ‚¬μ©ν•΄ μ£Όμ–΄μ•Όν•¨
         */}
            <label htmlFor="name">μ΄λ¦„</label>
            <input id="name"></input>

            {/*  μ—¬λ¬κ°μ idκ°€ ν•„μ”ν•λ©΄ id λ’¤μ— μλ―Έμλ” μ΄λ¦„μ„ λ„£μ–΄μ£Όλ©΄ λ¨ */}
            <p>TODO</p>
            <label htmlFor={`${id}-name`}>μ΄λ¦„</label>
            <input id={`${id}-name`}></input>
            <br />
            <label htmlFor={`${id}-age`}>λ‚μ΄</label>
            <input id={`${id}-age`}></input>

            {/* 
        Q. math.random κ°™μ€ ν•¨μλ„ μλ”λ° μ™ useIdλ¥Ό μ“ΈκΉ?
        A1. useIdκ°€ λ§λ“  idλ” μμ μ„ ν¬ν•¨ν•λ‹¤.
        querySelector(id) λ΅ μ ‘κ·Ό ν•  μ μ—†μ => μ¥μ 
        λ¦¬μ•΅νΈλ¥Ό μ‚¬μ©ν•λ©΄ querySelectorλ¥Ό μ“°λ”κ² μ•„λ‹λΌ useRefλ¥Ό μ¨μ•Όν•κΈ° λ•λ¬Έμ„
        */}
            <button id="btn">λ²„νΌ</button>
            <input id={id} ref={ref}>
                input
            </input>

            {/* 
            π― Q. `Math.random()` κ°™μ€ ν•¨μλ„ μλ”λ°, μ™ `useId`λ¥Ό μ‚¬μ©ν• κΉ? 

            π”Ή A1. `useId`κ°€ μƒμ„±ν• IDλ” μμ μ„ ν¬ν•¨ν•λ‹¤.  
            - `querySelector(id)`λ΅ μ ‘κ·Όν•  μ μ—†μ π‘‰ **λ³΄μ•μ  μ¥μ **
            - λ¦¬μ•΅νΈμ—μ„λ” `querySelector` λ€μ‹  `useRef`λ¥Ό μ‚¬μ©ν•λ” κ²ƒμ΄ μΌλ°μ 

            π”Ή A2. `Math.random()`μ„ μ‚¬μ©ν•λ©΄?  
            - μ»΄ν¬λ„νΈκ°€ **λ λ”λ§λ  λ•λ§λ‹¤ IDκ°€ λ³€κ²½λ¨**  
            - λ°λ©΄, `useId`λ” λ λ”λ§μ΄ λ°μƒν•΄λ„ **IDκ°€ μ μ§€λ¨**  
            - μλ¥Ό λ“¤μ–΄, `form` μ”μ†μ—μ„ μ¤ν¬λ¦° λ¦¬λ”κ°€ **λ°λ³µμ μΌλ΅ λ μ΄λΈ”μ„ μ½λ” λ¬Έμ **λ¥Ό λ°©μ§€ν•  μ μμ

            π”Ή A3. **SSR(μ„λ²„ μ‚¬μ΄λ“ λ λ”λ§)κ³Ό ν•μ΄λ“λ μ΄μ… λ¬Έμ  ν•΄κ²°**  
            - ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„μ—μ„ **μΌκ΄€λ IDλ¥Ό μƒμ„±**ν•μ—¬ ν•μ΄λ“λ μ΄μ… μ¤λ¥ λ°©μ§€

           + ν•μ΄λ“λ μ΄μ… μ¤λ¥
ν•μ΄λ“λ μ΄μ… μ¤λ¥λ” μ„λ²„μ—μ„ λ λ”λ§λ HTMLκ³Ό ν΄λΌμ΄μ–ΈνΈμ—μ„ λ λ”λ§ν• HTMLμ΄ λ¶μΌμΉν•  λ• λ°μƒν•©λ‹λ‹¤. 
μ£Όλ΅ μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈμ—μ„ μƒμ„±λ IDκ°€ λ‹¤λ¥Ό λ• λ°μƒν•©λ‹λ‹¤. 
μλ¥Ό λ“¤μ–΄, μ„λ²„μ—μ„ νμ΄μ§€λ¥Ό λ λ”λ§ν•κ³  ν΄λΌμ΄μ–ΈνΈκ°€ νμ΄μ§€λ¥Ό λ‹¤μ‹ λ λ”λ§ν•  λ• μƒμ„±λλ” ID κ°’μ΄ λ‹¤λ¥΄λ©΄, 
Reactλ” λ‘ λ λ”λ§μ΄ μΌμΉν•μ§€ μ•λ‹¤κ³  νλ‹¨ν•κ³  μ¤λ¥λ¥Ό λ°μƒμ‹ν‚µλ‹λ‹¤.

useIdλ” μ„λ²„ μ‚¬μ΄λ“ λ λ”λ§(SSR)μ—μ„ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°€ λ™μΌν• IDλ¥Ό μƒμ„±ν•  μ μλ„λ΅ λ³΄μ¥ν•©λ‹λ‹¤. 
μ΄λ ‡κ² ν•λ©΄, ν΄λΌμ΄μ–ΈνΈμ—μ„ ν•μ΄λ“λ μ΄μ… κ³Όμ •μ΄ μ™„λ£λ  λ•, 
μ„λ²„μ—μ„ μ „λ‹¬λ HTMLκ³Ό ν΄λΌμ΄μ–ΈνΈκ°€ μƒμ„±ν• HTMLμ΄ μΌμΉν•κ² λμ–΄ ν•μ΄λ“λ μ΄μ… μ¤λ¥λ¥Ό λ°©μ§€ν•  μ μμµλ‹λ‹¤.

μ¦‰, useIdλ¥Ό μ‚¬μ©ν•λ©΄ μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈκ°€ λ™μΌν• ID κ°’μ„ μƒμ„±ν•λ„λ΅ λ³΄μ¥ν•μ—¬ ν•μ΄λ“λ μ΄μ… μ¤λ¥λ¥Ό λ°©μ§€ν•λ” μ—­ν• μ„ ν•©λ‹λ‹¤.
            */}
        </div>
    );
};
